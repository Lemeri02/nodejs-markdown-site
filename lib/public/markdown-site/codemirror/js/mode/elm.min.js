!function(mod){"object"==typeof exports&&"object"==typeof module?mod(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],mod):mod(CodeMirror)}(function(CodeMirror){"use strict";CodeMirror.defineMode("elm",function(){function switchState(source,setState,f){return setState(f),f(source,setState)}var smallRE=/[a-z_]/,largeRE=/[A-Z]/,digitRE=/[0-9]/,hexitRE=/[0-9A-Fa-f]/,octitRE=/[0-7]/,idRE=/[a-z_A-Z0-9\']/,symbolRE=/[-!#$%&*+.\/<=>?@\\^|~:\u03BB\u2192]/,specialRE=/[(),;[\]`{}]/,whiteCharRE=/[ \t\v\f]/;function normal(){return function(source,setState){if(source.eatWhile(whiteCharRE))return null;var ch=source.next();if(specialRE.test(ch)){if("{"==ch&&source.eat("-")){var t="comment";return source.eat("#")&&(t="meta"),switchState(source,setState,function ncomment(type,nest){if(0==nest)return normal();return function(source,setState){for(var currNest=nest;!source.eol();){var ch=source.next();if("{"==ch&&source.eat("-"))++currNest;else if("-"==ch&&source.eat("}")&&0==--currNest)return setState(normal()),type}return setState(ncomment(type,currNest)),type}}(t,1))}return null}if("'"==ch)return source.eat("\\"),source.next(),source.eat("'")?"string":"error";if('"'==ch)return switchState(source,setState,stringLiteral);if(largeRE.test(ch))return source.eatWhile(idRE),source.eat(".")?"qualifier":"variable-2";if(smallRE.test(ch)){var isDef=1===source.pos;return source.eatWhile(idRE),isDef?"type":"variable"}if(digitRE.test(ch)){if("0"==ch){if(source.eat(/[xX]/))return source.eatWhile(hexitRE),"integer";if(source.eat(/[oO]/))return source.eatWhile(octitRE),"number"}source.eatWhile(digitRE);t="number";return source.eat(".")&&(t="number",source.eatWhile(digitRE)),source.eat(/[eE]/)&&(t="number",source.eat(/[-+]/),source.eatWhile(digitRE)),t}return symbolRE.test(ch)?"-"==ch&&source.eat(/-/)&&(source.eatWhile(/-/),!source.eat(symbolRE))?(source.skipToEnd(),"comment"):(source.eatWhile(symbolRE),"builtin"):"error"}}function stringLiteral(source,setState){for(;!source.eol();){var ch=source.next();if('"'==ch)return setState(normal()),"string";if("\\"==ch){if(source.eol()||source.eat(whiteCharRE))return setState(stringGap),"string";source.eat("&")||source.next()}}return setState(normal()),"error"}function stringGap(source,setState){return source.eat("\\")?switchState(source,setState,stringLiteral):(source.next(),setState(normal()),"error")}var wellKnownWords=function(){for(var wkw={},keywords=["case","of","as","if","then","else","let","in","infix","infixl","infixr","type","alias","input","output","foreign","loopback","module","where","import","exposing","_","..","|",":","=","\\",'"',"->","<-"],i=keywords.length;i--;)wkw[keywords[i]]="keyword";return wkw}();return{startState:function(){return{f:normal()}},copyState:function(s){return{f:s.f}},token:function(stream,state){var t=state.f(stream,function(s){state.f=s}),w=stream.current();return wellKnownWords.hasOwnProperty(w)?wellKnownWords[w]:t}}}),CodeMirror.defineMIME("text/x-elm","elm")});