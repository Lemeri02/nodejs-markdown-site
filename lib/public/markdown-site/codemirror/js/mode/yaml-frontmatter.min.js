!function(mod){"object"==typeof exports&&"object"==typeof module?mod(require("../../lib/codemirror"),require("../yaml/yaml")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../yaml/yaml"],mod):mod(CodeMirror)}(function(CodeMirror){CodeMirror.defineMode("yaml-frontmatter",function(config,parserConfig){var yamlMode=CodeMirror.getMode(config,"yaml"),innerMode=CodeMirror.getMode(config,parserConfig&&parserConfig.base||"gfm");function curMode(state){return 2==state.state?innerMode:yamlMode}return{startState:function(){return{state:0,inner:CodeMirror.startState(yamlMode)}},copyState:function(state){return{state:state.state,inner:CodeMirror.copyState(curMode(state),state.inner)}},token:function(stream,state){if(0==state.state)return stream.match(/---/,!1)?(state.state=1,yamlMode.token(stream,state.inner)):(state.state=2,state.inner=CodeMirror.startState(innerMode),innerMode.token(stream,state.inner));if(1==state.state){var end=stream.sol()&&stream.match(/---/,!1),style=yamlMode.token(stream,state.inner);return end&&(state.state=2,state.inner=CodeMirror.startState(innerMode)),style}return innerMode.token(stream,state.inner)},innerMode:function(state){return{mode:curMode(state),state:state.inner}},blankLine:function(state){var mode=curMode(state);if(mode.blankLine)return mode.blankLine(state.inner)}}})});